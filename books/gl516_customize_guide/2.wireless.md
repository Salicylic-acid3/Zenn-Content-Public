---
title: "🗼無線化する"
---

# ０．本チャプターのゴール

本チャプターではGL516ケースを用いたキーボードを無線化するための手順を記載します。
無線化に対応するためには以下の項目を実施する必要があります。
- 無線用のマイコンに換装する。
- 電池を内蔵する。
- 電池ケースを装着する。

# １．無線用のマイコンに換装する

:::message
本手順は共通ビルドガイドの手順を一通り終え、ProMicroでの動作を確認できた後に実施する想定です。
よって、ピンソケットは実装済みの想定です。
https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/soldering_of_components-2
:::

以下のマイコンで動作確認を行っています。
- BLE Micro Pro
※他のマイコンでの動作を確認出来ましたら追加いたしますのでご連絡ください。

## １－１．追加で必要となるパーツ一覧と購入先

| パーツ名 | 数量 |
| ---- | ---- |
| BLE Micro Pro | 1 |
| GL516無専用部品セット | 1 |
| 13ピンピンヘッダ | 2 |
| 単4電池 | 2 |
| 電池ケース※ | 1 |
※電池ケースは必要に応じて使用してください。

- BLE Micro Pro

BLE Micro Proの購入は[こちら](https://shop.yushakobo.jp/collections/all-keyboard-parts/products/ble-micro-pro?variant=37665571340449)か[こちら](https://booth.pm/ja/items/1177319)から購入してください。

- GL516無線用部品セット

https://salicylic-acid3.booth.pm/items/3675855
セットの部品を自分で揃えたい場合は以下から購入できます。

| パーツ名 | 数量 | 購入先 |
| ---- | ---- | ---- |
| 単4電池ケース | 2 | [こちら](https://akizukidenshi.com/catalog/g/gP-02670/) |
| ショットキーバリアダイオード | 1 | [こちら](https://akizukidenshi.com/catalog/g/gI-02073/) |
| コンデンサ | 1 | [こちら](https://akizukidenshi.com/catalog/g/gP-08260/) |
| スライドスイッチ | 1 | [こちら](https://ja.aliexpress.com/item/32810428058.html) |
| 3ピンXH2.54コード | 1 | [こちら](https://ja.aliexpress.com/item/32904038962.html) |
| 3ピンXH2.54コネクタ | 1 | [こちら](https://ja.aliexpress.com/item/32854250955.html) |

- GL516電池ケース

https://salicylic-acid3.booth.pm/items/3675855
GL516用の電池ケースは必須では有りませんが、持ち運ぶ場合は使用したほうが頑丈です。
電池ケース自体はSTEPファイルが公開されていますので、3Dプリンタをお持ちの方はご自分で印刷することも可能です。
https://github.com/Salicylic-acid3/GL516_Example/tree/main/Parts/BatteryCase

- 13ピンピンヘッダ

13ピンの物を各２本ずつ購入してください。
https://shop.yushakobo.jp/collections/all-keyboard-parts/products/3696
※12ピンでもできる場合がありますが、13ピンの方が確実です。

- 単4電池

２本用意してください。

## １－２．BMPとピンヘッダのハンダ付け

:::message
ピンソケットと基板とのハンダ付けは[GL516 互換PCB共通ビルドガイド](https://zenn.dev/salicylic_acid3/books/gl516_build_guide)のチャプター2「部品のハンダ付けpart2」を実行し、動作確認が完了してから本手順に移ってください。
:::

:::message
GL516互換PCBにピンソケットを使用している場合はコンスルーは使用できません。
BMPにピンヘッダをハンダ付けして使用してください。
:::

- [GL516 互換PCB共通ビルドガイド](https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/soldering_of_components-2#%EF%BC%92%EF%BC%8E%E3%83%94%E3%83%B3%E3%83%98%E3%83%83%E3%83%80%E3%82%92%E3%83%8F%E3%83%B3%E3%83%80%E4%BB%98%E3%81%91%E3%81%99%E3%82%8B)と同様にマイコンにUSBケーブル、またはパネルマウントUSBケーブルを挿入し、BMPとピンヘッダをハンダ付けする。
![](/images/gl516custom/2-1_bmp-1.jpg)
*BMPとピンヘッダをハンダ付けします。*

:::message
基本的に13ピンのピンヘッダの使用をオススメしますが、ProMicroに同梱されている12ピンヘッダを流用する場合はBat+（上記の図例だと上側：BMPにはBTのシルク有り）側に1ピン分オフセットして（9のピンを避けて）使用してください。
互換PCBの説明に「**BMP使用時は13ピンヘッダを使用してください**」等の注意書きがある場合は13ピンヘッダ、もしくは12ピンヘッダを複数用意し、分割して使用してください。
GND（上記の図例だと下側：BMPにはGのシルク有り）側は12ピンでもOKです。
:::

# ２．ファームウェアを書き込んで接続テストする

電池部品を取り付ける前に[GL516 互換PCB共通ビルドガイドの該当部分を参照](https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/flash_firmware#%EF%BC%92%EF%BC%8Eble-micro-pro%E3%81%AE%E5%A0%B4%E5%90%88)し、ファームウェアを書き込んでテストをしておきます。

# ３．3ピンXH2.54コードを基板にハンダ付けする

基板の中央上部にある3つのスルーホールに接続ケーブルをハンダ付けします。

:::details Tips:なぜ3ピンなのか
無線用バックプレートから取ってくるのは電池の+と-だけなので、2ピンだけで事足ります。
ですが2ピンとしてしまうとコネクタの接続時に上下を間違えた際に+と-が入れ替わってしまい、ショートしてしまいます。
それを防ぐために3ピンとし、真ん中の一本だけ気をつけていただく形式にしています。
:::

- 黒いケーブルの動線がむき出しな側を基板の**裏（底面側）から**バッテリー用のスルーホールの真ん中の穴に差し込み、抜けないように導線を折り曲げてからテープで止めます。
![](/images/gl516custom/2-3_battery-1.jpg)
*黒いケーブルが真ん中です。*

- 裏返し、基板の**表（スイッチ側）から**ハンダ付けする。
ケーブルのハンダ付けはハンダの量を増やしてしまうとケーブルの折り曲げに脆くなるので、少なめで大丈夫です。
![](/images/gl516custom/2-3_battery-2.jpg)
*ハンダの量は少なめにする。*

- 黒いケーブル**以外**を左右の穴に挿入し、テープで止める。
![](/images/gl516custom/2-3_battery-3.jpg)
*黒いケーブル以外はどちらに入れても大丈夫です。*

- 表からハンダ付けします。
ケーブルのハンダ付けはハンダの量を増やしてしまうとケーブルの折り曲げに脆くなるので、少なめで大丈夫です。
![](/images/gl516custom/2-3_battery-4.jpg)
*ハンダの量は少なめにする。*

# ４．無線用バックプレートに部品をハンダ付けする

無線用バックプレートに各種部品を実装します。

## ４－１．無線用バックプレートを取り付ける向きを確認する

無線用バックプレートは基板の**マイコンの実装側**に取り付けるため、最初に向きを確認します。
切り欠きが上側に、スライドスイッチが下側に来るように使用します。
![](/images/gl516custom/2-4_battery-aaa-1.jpg)
*仮組みして確認する。*

:::message
向きを確認したら電池ケースを取り付ける方（外側）にマスキングテープを貼っておくと確実です。
![](/images/gl516custom/2-4_battery-aaa-2.jpg)
:::

## ４－２．内側にコンデンサとダイオードをハンダ付けする

:::message alert
部品の実装面は決まっているので裏表を間違えないように再度確認してください。
:::

- 基板を裏返し、マスキングテープを**貼ってない側（内側）**にダイオードとコンデンサをハンダ付けします。
ダイオードには向きがありますので、必ず確認してください。
コンデンサには向きは有りません。
![](/images/gl516custom/2-4_battery-aaa-3.jpg)

ダイオードとコンデンサのハンダ付けは[GL516 互換PCB共通ビルドガイドのダイオードのハンダ付け部分](https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/soldering_of_components-1#%EF%BC%92%EF%BC%8E%E3%83%80%E3%82%A4%E3%82%AA%E3%83%BC%E3%83%89%E3%82%92%E3%83%8F%E3%83%B3%E3%83%80%E4%BB%98%E3%81%91%E3%81%99%E3%82%8B%EF%BC%88%E8%A1%A8%E9%9D%A2%E5%AE%9F%E8%A3%85%E3%83%80%E3%82%A4%E3%82%AA%E3%83%BC%E3%83%89%EF%BC%89)を参考にしてください。

## ４－３．XH2.54コネクタをハンダ付けする

- マスキングテープを**貼ってない側（内側）**にXH2.54コネクタをハンダ付けします。
コネクタに向きは有りません。
基板をひっくり返すとコネクタは落ちてしまうので、テープで仮止めするとやりやすいです。
![](/images/gl516custom/2-4_battery-aaa-4.jpg)

## ４－４．スライドスイッチをハンダ付けする

- マスキングテープを**貼っている側（外側）**にスライドスイッチをハンダ付けします。
この時、スライドスイッチの向きに注意します。
基板をひっくり返すとスライドスイッチは落ちてしまうので、テープで仮止めするとやりやすいです。
![](/images/gl516custom/2-4_battery-aaa-5.jpg)

## ４－５．電池ケースをハンダ付けする

- 裏表を表示するマスキングテープテープを剥がし、**外側**に電池ケースをハンダ付けします。
この時、+と-の向きに注意します。
電池ケースのコイル状の針金がある方が-（マイナス）です。
基板をひっくり返すと電池ケースは落ちてしまうので、テープで仮止めするとやりやすいです。
![](/images/gl516custom/2-4_battery-aaa-6.jpg)

![](/images/gl516custom/2-4_battery-aaa-7.jpg)
![](/images/gl516custom/2-4_battery-aaa-8.jpg)

# ５．GL516ケースに取り付ける

## ５－１．スイッチプレートをGL516ケースにネジ止めする

ケースの両端内側のネジ穴と合わせてネジ止めします。
![](/images/gl516custom/2-5_screw-1.jpg)

## ５－２．基板と無線用バックプレートを接続する

ケースのバックプレートの隙間からケーブルを引き出し、無線用バックプレートと接続します。
![](/images/gl516custom/2-5_screw-2.jpg)

## ５－３．無線用バックプレートをネジ止めする

:::message
電池ケースを取り付ける場合はパネルマウントケーブルの側のバックプレートを取り付けてからケースと一緒にネジ止めします。
![](/images/gl516custom/2-5_screw-3.jpg)
:::

## ５－４．各種プレートをネジ止めする

[GL516 互換PCB共通ビルドガイドのケースへの取り付け部分](https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/attaching_the_plate#%EF%BC%93%EF%BC%8E%E3%83%91%E3%83%8D%E3%83%AB%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88%E3%82%B1%E3%83%BC%E3%83%96%E3%83%AB%E3%82%92%E3%83%90%E3%83%83%E3%82%AF%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AB%E3%83%8D%E3%82%B8%E6%AD%A2%E3%82%81%E3%81%99%E3%82%8B)を参考に、各種プレートをネジ止めします。

