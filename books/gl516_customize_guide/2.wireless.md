---
title: "🗼無線化する"
---

# ０．本チャプターのゴール

本チャプターではGL516ケースを用いたキーボードを無線化するための手順を記載します。
無線化に対応するためには以下の項目を実施する必要があります。
- 無線用のマイコンに換装する。
- 電池を内蔵する。
- 電池ケースを装着する。

# １．無線用のマイコンに換装する

:::message
本手順は共通ビルドガイドの手順を一通り終え、ProMicroでの動作を確認できた後に実施する想定です。
よって、ピンソケットは実装済みの想定です。
https://zenn.dev/salicylic_acid3/books/gl516_build_guide/viewer/soldering_of_components-2
:::

以下のマイコンで動作確認を行っています。
- BLE Micro Pro
※他のマイコンでの動作を確認出来ましたら追加いたしますのでご連絡ください。

## １－１．追加で必要となるパーツ一覧と購入先

| パーツ名 | 数量 |
| ---- | ---- |
| BLE Micro Pro | 1 |
| GL516無専用部品セット | 1 |
| 13ピンピンヘッダ | 2 |
| 単4電池 | 2 |
| 電池ケース※ | 1 |
※電池ケースは必要に応じて使用してください。

- BLE Micro Pro

BLE Micro Proの購入は[こちら](https://shop.yushakobo.jp/collections/all-keyboard-parts/products/ble-micro-pro?variant=37665571340449)か[こちら](https://booth.pm/ja/items/1177319)から購入してください。

- GL516無線用部品セット

https://salicylic-acid3.booth.pm/items/3675855
セットの部品を自分で揃えたい場合は以下から購入できます。

| パーツ名 | 数量 | 購入先 |
| ---- | ---- | ---- |
| 単4電池ケース | 2 | [こちら](https://akizukidenshi.com/catalog/g/gP-02670/) |
| ショットキーバリアダイオード | 1 | [こちら](https://akizukidenshi.com/catalog/g/gI-02073/) |
| コンデンサ | 1 | [こちら](https://akizukidenshi.com/catalog/g/gP-08260/) |
| スライドスイッチ | 1 | [こちら](https://ja.aliexpress.com/item/32810428058.html) |
| 3ピンXH2.54コード | 1 | [こちら](https://ja.aliexpress.com/item/32904038962.html) |
| 3ピンXH2.54コネクタ | 1 | [こちら](https://ja.aliexpress.com/item/32854250955.html) |

- GL516電池ケース

https://salicylic-acid3.booth.pm/items/3675855
GL516用の電池ケースは必須では有りませんが、持ち運ぶ場合は使用したほうが頑丈です。
電池ケース自体はSTEPファイルが公開されていますので、3Dプリンタをお持ちの方はご自分で印刷することも可能です。
https://github.com/Salicylic-acid3/GL516_Example/tree/main/Parts/BatteryCase

- 13ピンピンヘッダ

13ピンの物を各２本ずつ購入してください。
https://shop.yushakobo.jp/collections/all-keyboard-parts/products/3696
※12ピンでもできる場合がありますが、13ピンの方が確実です。

- 単4電池

２本用意してください。

## １－２．BMPとピンヘッダのハンダ付け

:::message
GL516互換PCBにピンソケットを使用している場合はコンスルーは使用できません。
BMPにピンヘッダをハンダ付けして使用してください。
:::

- マイコンにUSBケーブル、またはパネルマウントUSBケーブルを挿入する。

- ピンソケットにピンヘッダを挿入し、BMPをピンヘッダに差し込んでハンダ付けする。

:::message
基本的に13ピンのピンヘッダの使用をオススメしますが、ProMicroに同梱されている12ピンヘッダを流用する場合はBat+にかかるように使用してください。
互換PCBの説明に「**BMP使用時は13ピンヘッダを使用してください**」等の注意書きがある場合は13ピンヘッダ、もしくは12ピンヘッダを複数用意し、分割して使用してください。
:::

# ２．3ピンXH2.54コードを基板にハンダ付けする

基板の中央上部にある3つのスルーホールに接続ケーブルをハンダ付けします。

- 黒いケーブルを真ん中の穴にハンダ付けする。
ハンダ付けする際はスルーホールに差し込み、軽く折り曲げるとハンダ付けしやすいです。

:::details Tips:なぜ3ピンなのか
無線用バックプレートから取ってくるのは電池の+と-だけなので、2ピンだけで事足ります。
ですが2ピンとしてしまうとコネクタの接続時に上下を間違えた際に+と-が入れ替わってしまい、ショートしてしまいます。
それを防ぐために3ピンとし、真ん中の一本だけ気をつけていただく形式にしています。
:::

- 黒いケーブル**以外**を左右の穴にハンダ付けする

# ３．無線用バックプレートに部品をハンダ付けする

無線用バックプレートに各種部品を実装します。

## ３－１．無線用バックプレートを取り付ける向きを確認する

無線用バックプレートは基板の**マイコンの実装側**に取り付けるため、最初に向きを確認します。
切り欠きが上側に、スライドスイッチが下側に来るように使用します。

:::message
向きを確認したらマスキングテープを貼っておく
:::

:::message alert
部品の実装面は決まっているので裏表を間違えないように再度確認してください。
:::

## ３－２．内側にコンデンサとダイオードをハンダ付けする

## ３－３．コネクタをハンダ付けする

## ３－４．スライドスイッチをハンダ付けする

## ３－５．電池ケースをハンダ付けする

# ４．ファームウェアを書き込んで接続テストする

既存のビルドガイドから引っ張ってくる

# ５．GL516ケースに取り付ける

## ５－１．スイッチプレートをGL516ケースにネジ止めする

## ５－２．基板と無線用バックプレートと接続する

## ５－３．無線用バックプレートをネジ止めする

## ５－４．パネルマウントケーブルを取り付け、バックプレートをネジ止めする

